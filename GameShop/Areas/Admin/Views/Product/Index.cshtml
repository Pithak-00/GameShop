@model List<Product>
<div class="card shadow border-0 mt-4">
	<div class="card-header bg-secondary bg-gradient ml-0 py-3">
		<div class="row">
			<div class="col-12 text-center">
				<h2 class="text-white py-2">Product List</h2>
			</div>
		</div>
	</div>
	<div class="card-body p-4">
		<div class="row pb-3">
			<div class="col-6">
			</div>
			<div class="col-6 text-end">
				<a asp-controller="Product" asp-action="Upsert" class="btn btn-primary">
					<i class="bi bi-plus-circle"></i> Create New Product
				</a>
			</div>
		</div>

		<table id="tblData" class=" table table-bordered table-striped" style="width:100%">
			<thead>
				<tr>
					<th>Title</th>
					<th>Brand</th>
					<th>Platform</th>
					<th>Price</th>
					<th>Description</th>
					<th></th>
				</tr>
			</thead>
		</table>

	</div>
</div>

@section Scripts{
	<!--TODO: 何故かjsファイル読み込めないか原因調査中-->
	<script scr="~/js/product.js"></script>
	<!--TODO: 仮対応-->
	<script>
		dataTable = $('#tblData').DataTable({
			"ajax": { url: '/admin/product/getall' },
			"columns": [
				{ data: 'title', "width": "15%" },
				{ data: 'brand', "width": "10%" },
				{ data: 'platform.name', "width": "5%" },
				{ data: 'listPrice', "width": "5%" },
				{ data: 'description', "width": "40%" },
				{
					data: 'id',
					"render": function(data){
						return '<div class="w-75 btn-group" role="group"><a herf = "/admin/product/upsert?id=${data}" class="btn btn-primary mx-2" > <i class="bi bi-pencil-square" > </i> Edit </a><a class="btn btn-danger mx-2" ><i class="bi bi-trash-fill" > </i> Delete </a></div>'
					},
					"width": "15%"
				}
			]
		});
	</script>
}